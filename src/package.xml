<?xml version="1.0" encoding="utf-8" ?>
<package name="landfirevegmodels" displayName="LANDFIRE vegetation models" version="2.0.0" minSyncroSimVersion="3.1.22" url="https://apexrms.github.io/landfirevegmodels/">

  <builtFor package="stsim" version="4.5.3"/>
	
  <dataSheet name="UpperLayerLifeform" shortName="Lifeform" displayName="Upper Layer Lifeform" dataScope="Project" valueMember="UpperLayerLifeformID" displayMember="Name">
    <column name="Name" dataType="String" fillWeight="10"/>
    <column name="Description" dataType="String" isOptional="True"/>
  </dataSheet>

  <dataSheet name="LeafForm" shortName="LeafForm" displayName="Leaf Form" dataScope="Project" valueMember="LeafFormID" displayMember="Name">
    <column name="Name" dataType="String" fillWeight="10"/>
    <column name="Description" dataType="String" isOptional="True"/>
  </dataSheet>

  <dataSheet name="Composition" shortName="Composition" displayName="Composition" dataScope="Project" valueMember="CompositionID" displayMember="Name">
    <column name="Name" dataType="String" fillWeight="10"/>
    <column name="Description" dataType="String" isOptional="True"/>
  </dataSheet>

  <dataSheet name="HeightClass" displayName="Height Class" dataScope="Project" valueMember="HeightClassID" displayMember="Name">
    <column name="Name" dataType="String" fillWeight="10"/>
    <column name="Description" dataType="String" isOptional="True"/>
  </dataSheet>

  <dataSheet name="ClassLabel" displayName="Class Label" dataScope="Project" valueMember="ClassLabelID" displayMember="Name">
    <column name="Name" dataType="String" fillWeight="10"/>
    <column name="Description" dataType="String" isOptional="True"/>
  </dataSheet>

  <dataSheet name="SuccessionClassDescription" displayName="Succession Class Descriptions" dataScope="Scenario" allowTextWrap="True">
    <column name="StratumID" dataType="Integer" displayName="Stratum" validationType="Datasheet" formula1="stsim_Stratum" displayNameSource="stsim_Terminology" displayNameColumn="PrimaryStratumLabel" fillWeight="10"/>
    <column name="ClassLabelID" dataType="Integer" displayName="SClass Label" validationType="Datasheet" formula1="ClassLabel" fillWeight="10"/>
    <column name="StateClassID" dataType="Integer" displayName="State Class" validationType="Datasheet" formula1="stsim_StateClass" allowDbNull="False" fillWeight="10"/>
    <column name="Description" dataType="String" fillWeight="70"/>
  </dataSheet>

  <dataSheet name="SuccessionClassMappingRule" displayName="Succession Class Mapping Rules" dataScope="Scenario" filterColumns="StratumID">
    <column name="StratumID" dataType="Integer" displayName="Stratum" validationType="Datasheet" formula1="stsim_Stratum" displayNameSource="stsim_Terminology" displayNameColumn="PrimaryStratumLabel"/>
    <column name="UpperLayerLifeformID" dataType="Integer" displayName="Upper Layer Lifeform" validationType="Datasheet" formula1="UpperLayerLifeform" allowDbNull="False"/>
    <column name="LeafFormID" dataType="Integer" displayName="Leaf Form" validationType="Datasheet" formula1="LeafForm" allowDbNull="True"/>
    <column name="CompositionID" dataType="Integer" displayName="Composition" validationType="Datasheet" formula1="Composition" allowDbNull="True"/>
    <column name="HeightClassID" dataType="Integer" displayName="Height Class (m)" validationType="Datasheet" formula1="HeightClass" allowDbNull="False"/>
    <column name="ClassLabel0to10" dataType="Integer" displayName="0-10%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="ClassLabel10to20" dataType="Integer" displayName="10-20%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="ClassLabel20to30" dataType="Integer" displayName="20-30%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="ClassLabel30to40" dataType="Integer" displayName="30-40%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="ClassLabel40to50" dataType="Integer" displayName="40-50%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="ClassLabel50to60" dataType="Integer" displayName="50-60%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="ClassLabel60to70" dataType="Integer" displayName="60-70%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="ClassLabel70to80" dataType="Integer" displayName="70-80%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="ClassLabel80to90" dataType="Integer" displayName="80-90%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="ClassLabel90t100" dataType="Integer" displayName="90-100%" validationType="Datasheet" formula1="ClassLabel" allowDbNull="False"/>
    <column name="AdditionalRules" displayName="Additional rules" dataType="String"/>
  </dataSheet>

	<dataSheet name="ExportStrata" dataScope="Scenario">
		<column name="StratumId" dataType="Integer" displayName="Stratum" validationType="Datasheet" formula1="stsim_Stratum" displayNameSource="stsim_Terminology" displayNameColumn="PrimaryStratumLabel"/>
	  <validation validationType="UniqueOrNull" columns="StratumId"/>
  </dataSheet>

	<dataSheet name="ExportLibraryPath" dataScope="Scenario" isSingleRow="True">
		<column name="Path" dataType="String" displayName="Output Library Path" externalFileAbsolute="True" allowDbNull="False"/>
	</dataSheet>

	<dataFeed name="ExportDataFeed" displayName="Export Configuration" viewClassName="LandFireVegModels.ExportStrataDataFeedView" viewClassAssembly="LandFireVegModels">
		<dataSheet name="ExportStrata"/>
		<dataSheet name="ExportLibraryPath"/>
	</dataFeed>

	<transformer
		name="Export"
		displayName="Export landfire vegetation model strata"
		className="LandFireVegModels.ExportTransformer"
		classAssembly="LandFireVegModels"
		isPipeline="True">
		<dataSheet name="ExportStrata" type="Both"/>
		<dataSheet name="ExportLibraryPath" type="Both"/>
		<dataSheet name="SuccessionClassDescription" type="Input"/>
		<dataSheet name="SuccessionClassMappingRule" type="Input"/>
	</transformer>

  <layout type="Project">
    <item name="UpperLayerLifeform" displayName="Upper Layer Lifeform"/>
	  <item name="LeafForm" displayName="Leaf Form"/>
	  <item name="Composition" displayName="Composition"/>
	  <item name="HeightClass" displayName="Height Class"/>
	  <item name="ClassLabel" displayName="Class Label"/>
  </layout>

  <layout type="Scenario">
		<item name="ExportDataFeed" displayName="Export Configuration"/>
		<group name="SuccessionClassGroup" displayName="Succession Classes">
			<item name="SuccessionClassDescription" displayName="Succession Class Description" alwaysVisible="True"/>
			<item name="SuccessionClassMappingRule" displayName="Succession Class Mapping Rule" alwaysVisible="True"/>
		</group>
	</layout>

  <updateProvider
    className="LandFireVegModels.Updates"
    classAssembly="LandFireVegModels">
  </updateProvider>
</package>